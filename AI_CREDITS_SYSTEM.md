# üí∞ AI Credits System - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

## üìã –û–≥–ª—è–¥ —Å–∏—Å—Ç–µ–º–∏

–°–∏—Å—Ç–µ–º–∞ AI –∫—Ä–µ–¥–∏—Ç—ñ–≤ –¥–æ–∑–≤–æ–ª—è—î –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è AI —Ñ—É–Ω–∫—Ü—ñ–π (–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ–∫—Å—Ç—ñ–≤ —Ç–∞ –∑–æ–±—Ä–∞–∂–µ–Ω—å). –ö–æ–∂–µ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ—Ç—Ä–∏–º—É—î **100 –∫—Ä–µ–¥–∏—Ç—ñ–≤**, —è–∫—ñ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è **—â–æ–º—ñ—Å—è—Ü—è**.

---

## üíé –í–∞—Ä—Ç—ñ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ–π

| –û–ø–µ—Ä–∞—Ü—ñ—è | –í–∞—Ä—Ç—ñ—Å—Ç—å | –©–æ –æ—Ç—Ä–∏–º—É—î—Ç–µ |
|----------|----------|--------------|
| –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ–∫—Å—Ç—É | **1 –∫—Ä–µ–¥–∏—Ç** | 3 –≤–∞—Ä—ñ–∞–Ω—Ç–∏ —Ç–µ–∫—Å—Ç—É |
| –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è | **5 –∫—Ä–µ–¥–∏—Ç—ñ–≤** | 1 –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è |

### –ü—Ä–∏–∫–ª–∞–¥:
–ó **100 –∫—Ä–µ–¥–∏—Ç—ñ–≤** –≤–∏ –º–æ–∂–µ—Ç–µ –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏:
- 100 —Ç–µ–∫—Å—Ç—ñ–≤ (–ø–æ 3 –≤–∞—Ä—ñ–∞–Ω—Ç–∏) ‚úçÔ∏è
- 20 –∑–æ–±—Ä–∞–∂–µ–Ω—å üñºÔ∏è
- –ê–±–æ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—é: 50 —Ç–µ–∫—Å—Ç—ñ–≤ + 10 –∑–æ–±—Ä–∞–∂–µ–Ω—å üé®

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

- **–ö–æ–ª–∏:** 1-–≥–æ —á–∏—Å–ª–∞ –∫–æ–∂–Ω–æ–≥–æ –º—ñ—Å—è—Ü—è –æ 00:00
- **–°–∫—ñ–ª—å–∫–∏:** –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –¥–æ –ª—ñ–º—ñ—Ç—É (100 –∫—Ä–µ–¥–∏—Ç—ñ–≤)
- **–ú–µ—Ö–∞–Ω—ñ–∑–º:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π cron job

---

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö (User schema)

```typescript
{
  ai_credits: 100,              // –ü–æ—Ç–æ—á–Ω–∏–π –±–∞–ª–∞–Ω—Å
  ai_credits_limit: 100,        // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π –ª—ñ–º—ñ—Ç
  ai_credits_last_reset: Date   // –î–∞—Ç–∞ –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
}
```

---

## üéØ API Endpoints

### 1. –ü–µ—Ä–µ–≥–ª—è–¥ –±–∞–ª–∞–Ω—Å—É

```bash
GET /api/ai/credits
Authorization: Bearer YOUR_TOKEN
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "credits": 95,
  "credits_limit": 100,
  "last_reset": "2025-01-01T00:00:00.000Z",
  "next_reset": "2025-02-01T00:00:00.000Z",
  "costs": {
    "text_generation": 1,
    "image_generation": 5
  }
}
```

---

### 2. –î–µ—Ç–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```bash
GET /api/ai/credits/stats
Authorization: Bearer YOUR_TOKEN
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "credits_used": 5,
  "credits_remaining": 95,
  "credits_limit": 100,
  "percentage_used": 5,
  "last_reset": "2025-01-01T00:00:00.000Z",
  "next_reset": "2025-02-01T00:00:00.000Z",
  "estimated_text_generations": 95,
  "estimated_image_generations": 19
}
```

---

### 3. –†—É—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫—Ä–µ–¥–∏—Ç—ñ–≤ (—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è)

```bash
PATCH /api/ai/credits/reset
Authorization: Bearer YOUR_TOKEN
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "message": "Credits reset successfully",
  "balance": {
    "credits": 100,
    "credits_limit": 100,
    "last_reset": "2025-01-30T12:00:00.000Z",
    "next_reset": "2025-02-01T00:00:00.000Z",
    "costs": {
      "text_generation": 1,
      "image_generation": 5
    }
  }
}
```

---

## üîê –õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏

### –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ–∫—Å—Ç—É:

```
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —Ä–æ–±–∏—Ç—å –∑–∞–ø–∏—Ç –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é —Ç–µ–∫—Å—Ç—É
2. –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—î –±–∞–ª–∞–Ω—Å (–ø–æ—Ç—Ä—ñ–±–µ–Ω 1 –∫—Ä–µ–¥–∏—Ç)
3. –Ø–∫—â–æ –∫—Ä–µ–¥–∏—Ç—ñ–≤ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ:
   - –í—ñ–¥–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è –∑–∞–ø–∏—Ç –¥–æ OpenAI
   - –û—Ç—Ä–∏–º—É—î—Ç—å—Å—è 3 –≤–∞—Ä—ñ–∞–Ω—Ç–∏ —Ç–µ–∫—Å—Ç—É
   - –°–ø–∏—Å—É—î—Ç—å—Å—è 1 –∫—Ä–µ–¥–∏—Ç
   - –ü–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç + –Ω–æ–≤–∏–π –±–∞–ª–∞–Ω—Å
4. –Ø–∫—â–æ –∫—Ä–µ–¥–∏—Ç—ñ–≤ –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ:
   - –ü–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –ø–æ–º–∏–ª–∫–∞ –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ –±–∞–ª–∞–Ω—Å —Ç–∞ –¥–∞—Ç—É –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
```

### –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è:

```
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —Ä–æ–±–∏—Ç—å –∑–∞–ø–∏—Ç –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
2. –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—î –±–∞–ª–∞–Ω—Å (–ø–æ—Ç—Ä—ñ–±–Ω–æ 5 –∫—Ä–µ–¥–∏—Ç—ñ–≤)
3. –Ø–∫—â–æ –∫—Ä–µ–¥–∏—Ç—ñ–≤ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ:
   - –í—ñ–¥–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è –∑–∞–ø–∏—Ç –¥–æ DALL-E
   - –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
   - –ó–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —É –ë–î —Ç–∞ –Ω–∞ –¥–∏—Å–∫—É
   - –°–ø–∏—Å—É—î—Ç—å—Å—è 5 –∫—Ä–µ–¥–∏—Ç—ñ–≤
   - –ü–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç + –Ω–æ–≤–∏–π –±–∞–ª–∞–Ω—Å
4. –Ø–∫—â–æ –∫—Ä–µ–¥–∏—Ç—ñ–≤ –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ:
   - –ü–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –ø–æ–º–∏–ª–∫–∞ –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ –±–∞–ª–∞–Ω—Å —Ç–∞ –¥–∞—Ç—É –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
```

---

## ‚ö†Ô∏è –ü–æ–º–∏–ª–∫–∏

### –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –∫—Ä–µ–¥–∏—Ç—ñ–≤ (—Ç–µ–∫—Å—Ç):

```json
{
  "statusCode": 400,
  "message": "Insufficient AI credits. You have 0 credits, but need 1. Credits will reset on 2/1/2025."
}
```

### –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –∫—Ä–µ–¥–∏—Ç—ñ–≤ (–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è):

```json
{
  "statusCode": 400,
  "message": "Insufficient AI credits. You have 3 credits, but need 5. Credits will reset on 2/1/2025."
}
```

---

## üìä –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —É –≤—ñ–¥–ø–æ–≤—ñ–¥—è—Ö

–ü—ñ—Å–ª—è –∫–æ–∂–Ω–æ—ó –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –ø–æ—Ç–æ—á–Ω–∏–π –±–∞–ª–∞–Ω—Å:

### –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ–∫—Å—Ç—É:
```json
{
  "variants": ["variant 1", "variant 2", "variant 3"],
  "generation_id": "uuid",
  "credits_remaining": 99
}
```

### –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è:
```json
{
  "status": "completed",
  "generation_id": "uuid",
  "image_id": "media-uuid",
  "image_url": "/api/media/media-uuid",
  "credits_remaining": 94
}
```

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ –∫—Ä–µ–¥–∏—Ç—ñ–≤

### –¢–µ—Å—Ç 1: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ –±–∞–ª–∞–Ω—Å—É

```bash
# –ü—ñ—Å–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –±–∞–ª–∞–Ω—Å
curl -X GET http://localhost:5050/api/ai/credits \
  -H "Authorization: Bearer YOUR_TOKEN"

# –û—á—ñ–∫—É—î—Ç—å—Å—è: 100 –∫—Ä–µ–¥–∏—Ç—ñ–≤
```

### –¢–µ—Å—Ç 2: –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ–∫—Å—Ç—É (—Å–ø–∏—Å–∞–Ω–Ω—è 1 –∫—Ä–µ–¥–∏—Ç—É)

```bash
curl -X POST http://localhost:5050/api/ai/generate-text \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{"prompt":"Test","tone":"friendly","length":"short"}'

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—å: credits_remaining: 99
```

### –¢–µ—Å—Ç 3: –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è (—Å–ø–∏—Å–∞–Ω–Ω—è 5 –∫—Ä–µ–¥–∏—Ç—ñ–≤)

```bash
curl -X POST http://localhost:5050/api/ai/generate-image \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{"prompt":"Test image","width":1024,"height":1024}'

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—å: credits_remaining: 94
```

### –¢–µ—Å—Ç 4: –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –±–µ–∑ –∫—Ä–µ–¥–∏—Ç—ñ–≤

```bash
# –ó–≥–µ–Ω–µ—Ä—É–π—Ç–µ 20 –∑–æ–±—Ä–∞–∂–µ–Ω—å (100 –∫—Ä–µ–¥–∏—Ç—ñ–≤)
# –ü–æ—Ç—ñ–º —Å–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑

curl -X POST http://localhost:5050/api/ai/generate-image \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{"prompt":"Another image","width":1024,"height":1024}'

# –û—á—ñ–∫—É—î—Ç—å—Å—è –ø–æ–º–∏–ª–∫–∞ 400: Insufficient AI credits
```

### –¢–µ—Å—Ç 5: –†—É—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫—Ä–µ–¥–∏—Ç—ñ–≤

```bash
curl -X PATCH http://localhost:5050/api/ai/credits/reset \
  -H "Authorization: Bearer YOUR_TOKEN"

# –ö—Ä–µ–¥–∏—Ç–∏ –ø–æ–≤–µ—Ä–Ω—É—Ç—å—Å—è –¥–æ 100
```

---

## üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤ MongoDB

```javascript
// –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—å
mongosh mongodb://localhost:27017/smm-backend

// –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫—Ä–µ–¥–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
db.users.find({}, { 
  email: 1, 
  ai_credits: 1, 
  ai_credits_limit: 1, 
  ai_credits_last_reset: 1 
}).pretty()

// –û—á—ñ–∫—É—î—Ç—å—Å—è:
{
  "email": "test@example.com",
  "ai_credits": 95,
  "ai_credits_limit": 100,
  "ai_credits_last_reset": ISODate("2025-01-30T12:00:00.000Z")
}
```

---

## üìà –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –õ–æ–≥–∏ —É –∫–æ–Ω—Å–æ–ª—ñ:

```
üí∞ Deducted 1 credits from user uuid (text_generation). New balance: 99
‚úÖ Text generation completed: gen-uuid, Credits remaining: 99

üí∞ Deducted 5 credits from user uuid (image_generation). New balance: 94
‚úÖ Image generation completed: gen-uuid, media: media-uuid, Credits remaining: 94
```

### –©–æ–º—ñ—Å—è—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:

```
üîÑ Starting monthly AI credits reset...
üîÑ Reset credits for user uuid1 to 100
üîÑ Reset credits for user uuid2 to 100
‚úÖ Monthly reset completed for 25 users
```

---

## üéõÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤–∞—Ä—Ç–æ—Å—Ç—ñ

–£ —Ñ–∞–π–ª—ñ `src/ai/ai-credits.service.ts`:

```typescript
private readonly COSTS = {
  TEXT_GENERATION: 1,      // –ó–º—ñ–Ω—ñ—Ç—å –Ω–∞ –ø–æ—Ç—Ä—ñ–±–Ω—É –≤–∞—Ä—Ç—ñ—Å—Ç—å
  IMAGE_GENERATION: 5,     // –ó–º—ñ–Ω—ñ—Ç—å –Ω–∞ –ø–æ—Ç—Ä—ñ–±–Ω—É –≤–∞—Ä—Ç—ñ—Å—Ç—å
};
```

### –ü–æ—á–∞—Ç–∫–æ–≤–∏–π –ª—ñ–º—ñ—Ç –∫—Ä–µ–¥–∏—Ç—ñ–≤:

–£ —Ñ–∞–π–ª—ñ `src/common/schemas/user.schema.ts`:

```typescript
@Prop({ default: 100 })
ai_credits: number;

@Prop({ default: 100 })
ai_credits_limit: number;
```

–ó–º—ñ–Ω—ñ—Ç—å `100` –Ω–∞ –ø–æ—Ç—Ä—ñ–±–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è.

---

## üîÆ –ú–∞–π–±—É—Ç–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### –ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏:

1. **–†—ñ–∑–Ω—ñ –ø–ª–∞–Ω–∏ –ø—ñ–¥–ø–∏—Å–∫–∏:**
   - Free: 100 –∫—Ä–µ–¥–∏—Ç—ñ–≤/–º—ñ—Å—è—Ü—å
   - Pro: 500 –∫—Ä–µ–¥–∏—Ç—ñ–≤/–º—ñ—Å—è—Ü—å
   - Team: 2000 –∫—Ä–µ–¥–∏—Ç—ñ–≤/–º—ñ—Å—è—Ü—å

2. **–ö—É–ø—ñ–≤–ª—è –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –∫—Ä–µ–¥–∏—Ç—ñ–≤:**
   - Stripe —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
   - –ü–∞–∫–µ—Ç–∏: 50, 100, 500 –∫—Ä–µ–¥–∏—Ç—ñ–≤

3. **–ë–æ–Ω—É—Å–Ω—ñ –∫—Ä–µ–¥–∏—Ç–∏:**
   - –ó–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–∏
   - –ó–∞ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å
   - –ó–∞ –≤—ñ–¥–≥—É–∫–∏

4. **–Ü—Å—Ç–æ—Ä—ñ—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π:**
   - –û–∫—Ä–µ–º–∞ collection –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
   - –î–µ—Ç–∞–ª—å–Ω–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞

5. **–ù–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:**
   - Email –∫–æ–ª–∏ –∑–∞–ª–∏—à–∏–ª–æ—Å—å 10% –∫—Ä–µ–¥–∏—Ç—ñ–≤
   - Email –ø—ñ—Å–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

---

## ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–æ—á–Ω–∏–π —Å–ø–∏—Å–æ–∫

- [x] User schema –º–∞—î –ø–æ–ª—è `ai_credits`, `ai_credits_limit`, `ai_credits_last_reset`
- [x] AiCreditsService —Å—Ç–≤–æ—Ä–µ–Ω–æ
- [x] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å—É –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—î—é –ø—Ä–∞—Ü—é—î
- [x] –ö—Ä–µ–¥–∏—Ç–∏ —Å–ø–∏—Å—É—é—Ç—å—Å—è –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ—ó –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó
- [x] –ü–æ–º–∏–ª–∫–∞ –≤–∏–≤–æ–¥–∏—Ç—å—Å—è –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ–º—É –±–∞–ª–∞–Ω—Å—ñ
- [x] Endpoint `/api/ai/credits` –ø—Ä–∞—Ü—é—î
- [x] Endpoint `/api/ai/credits/stats` –ø—Ä–∞—Ü—é—î
- [x] Endpoint `/api/ai/credits/reset` –ø—Ä–∞—Ü—é—î
- [x] Cron job –¥–ª—è —â–æ–º—ñ—Å—è—á–Ω–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∞—Ü—é—î
- [x] –ë–∞–ª–∞–Ω—Å –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è —É –≤—ñ–¥–ø–æ–≤—ñ–¥—è—Ö –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó
- [x] –õ–æ–≥—É–≤–∞–Ω–Ω—è —Å–ø–∏—Å–∞–Ω–Ω—è –∫—Ä–µ–¥–∏—Ç—ñ–≤ –ø—Ä–∞—Ü—é—î

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–°–∏—Å—Ç–µ–º–∞ AI –∫—Ä–µ–¥–∏—Ç—ñ–≤ –ø–æ–≤–Ω—ñ—Å—Ç—é —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ —Ç–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è!

**–ö–æ–∂–µ–Ω –Ω–æ–≤–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç—Ä–∏–º—É—î 100 –∫—Ä–µ–¥–∏—Ç—ñ–≤ –ø—Ä–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó.**
**–ö—Ä–µ–¥–∏—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è 1-–≥–æ —á–∏—Å–ª–∞ –∫–æ–∂–Ω–æ–≥–æ –º—ñ—Å—è—Ü—è.**

–ü—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –≤–∏—â–µ! üöÄ

